import{r as d,j as e,f as i}from"./index-BiUQ1WVI.js";const o=({item:n})=>{const[r,a]=d.useState(!1),s=d.useRef(null),c=l=>{s.current&&!s.current.contains(l.target)&&a(!1)};return d.useEffect(()=>(document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}),[]),e.jsxs("div",{ref:s,onClick:()=>a(!r),className:`${r?"h-[400px]":"h-[100px]"} select-none flex flex-col gap-2 bg-slate-200 mt-2 p-2 rounded-md duration-300 active:bg-slate-700 active:text-white cursor-pointer overflow-hidden`,children:[e.jsxs("span",{className:"gap-1 flex",children:[e.jsx("span",{className:"font-semibold",children:"ID:"}),e.jsxs("span",{children:[" ",n.id]})]}),e.jsxs("span",{className:"gap-1 flex",children:[e.jsx("span",{className:"font-semibold",children:"DATE:"}),e.jsxs("span",{children:[" ",n.order_date]})]}),r&&e.jsxs("div",{className:"h-full overflow-auto",children:[e.jsxs("div",{className:" w-full grid-cols-3 grid font-semibold",children:[e.jsx("span",{children:"QUANTITY"}),e.jsx("span",{children:"ITEM"}),e.jsx("span",{children:"PRICE"})]}),n.order_items.map((l,t)=>e.jsx("div",{className:"flex flex-col px-1 py-2 striped ",children:e.jsxs("div",{className:"w-full grid-cols-3 grid font-normal",children:[e.jsx("span",{children:l.quantity}),e.jsx("span",{children:l.item}),e.jsx("span",{children:l.price})]})},t))]}),e.jsxs("div",{className:`${r&&"border-t-2 border-gray-300 py-1"} grid grid-cols-3 font-bold`,children:[e.jsx("span",{className:"font-semibold",children:"TOTAL:"}),e.jsx("div",{}),e.jsxs("span",{children:[" ",n.order_total]})]})]})},f=()=>{const[n,r]=d.useState([]);return d.useEffect(()=>{(async()=>{const s=await i();s&&r(Object.entries(s).map(([c,l])=>({id:c,...l})))})()},[]),e.jsxs("div",{className:"flex flex-col h-full w-full",children:[e.jsx("h1",{className:"font-semibold text-[30px]",children:"Recent Orders"}),e.jsx("div",{className:"w-full h-full overflow-y-auto",children:n.map((a,s)=>e.jsx(o,{item:a}))})]})};export{f as default};
